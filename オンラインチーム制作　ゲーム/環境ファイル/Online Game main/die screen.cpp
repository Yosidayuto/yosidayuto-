#include "manager.h"
#include "die screen.h"
#include "game.h"
//=============================================================================
//静的メンバ変数宣言
//=============================================================================
LPDIRECT3DTEXTURE9 CDieScreen::m_pTexture = {};
//=============================================================================
// コンストラクタ
//=============================================================================
CDieScreen::CDieScreen()
{
}

//=============================================================================
// デストラクタ
//=============================================================================
CDieScreen::~CDieScreen()
{
}

//=============================================================================
// テクスチャ読み込み
//=============================================================================
HRESULT CDieScreen::Load(void)
{
	//デバイスの取得
	LPDIRECT3DDEVICE9 pD3DDevice = CManager::GetRenderer()->GetDevice();

	// テクスチャの生成
	D3DXCreateTextureFromFile(pD3DDevice, DIE_SCREEN, &m_pTexture);
	

	return S_OK;
}

//=============================================================================
// テクスチャ破棄
//=============================================================================
void CDieScreen::Unload(void)
{
	// テクスチャの破棄
	if (m_pTexture != NULL)
	{
		m_pTexture->Release();
		m_pTexture = NULL;
	}
	
}
//=============================================================================
// UI作成処理
//=============================================================================
CDieScreen * CDieScreen::Create(void)
{
	CDieScreen *pDieScreen;
	//インスタンス生成
	pDieScreen = new CDieScreen;

	//初期化処理
	if (pDieScreen != NULL)
	{
		pDieScreen->Init();
	}
	return pDieScreen;
}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CDieScreen::Init(void)
{

	BindTexture(m_pTexture);

	//初期化処理
	CScene2D::Init(D3DXVECTOR3(SCREEN_WIDTH , SCREEN_HEIGHT , 0));
	//位置設定
	SetPosition(D3DXVECTOR3(SCREEN_WIDTH / 2, SCREEN_HEIGHT / 2, 0));

	return S_OK;

}

//=============================================================================
// 終了処理
//=============================================================================
void CDieScreen::Uninit(void)
{
	CScene2D::Uninit();
}

//=============================================================================
// 更新処理
//=============================================================================
void CDieScreen::Update(void)
{
}

//=============================================================================
// 描画処理
//=============================================================================
void CDieScreen::Draw(void)
{
	CScene2D::Draw();
}
